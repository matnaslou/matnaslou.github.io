<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Blog post by Matheus Nascimento Loureiro">
    <title>Blog Post | Matheus Nascimento Loureiro</title>

    <link rel="icon" type="image/svg+xml"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸ“Š</text></svg>">
    <link rel="stylesheet" href="css/styles.css">
</head>

<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <a href="index.html" class="nav-logo">
                <span>MNL</span>
            </a>

            <ul class="nav-menu">
                <li><a href="index.html" class="nav-link" data-i18n="nav.home">Home</a></li>
                <li><a href="research.html" class="nav-link" data-i18n="nav.research">Research</a></li>
                <li><a href="cv.html" class="nav-link" data-i18n="nav.cv">CV</a></li>
                <li><a href="blog.html" class="nav-link active" data-i18n="nav.blog">Blog</a></li>
            </ul>

            <div class="nav-actions">
                <div class="lang-toggle">
                    <button class="lang-btn active" data-lang="en">EN</button>
                    <button class="lang-btn" data-lang="pt">PT</button>
                </div>
            </div>

            <div class="nav-toggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Post Header -->
    <header class="post-header">
        <div class="container">
            <a href="blog.html" class="btn btn-ghost btn-sm" style="margin-bottom: var(--space-4);">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor" style="margin-right: 4px;">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                </svg>
                Back to Blog
            </a>
            <h1 id="postTitle">Loading...</h1>
            <div class="post-meta" id="postMeta">
                <span id="postDate"></span>
                <span id="postReadingTime"></span>
                <span id="postCategory"></span>
            </div>
        </div>
    </header>

    <!-- Post Content -->
    <article class="post-content" id="postContent">
        <p>Loading post content...</p>
    </article>

    <!-- Post Footer -->
    <section class="section-sm" style="background: var(--bg-secondary);">
        <div class="container" style="max-width: 800px;">
            <!-- Tags -->
            <div style="margin-bottom: var(--space-8);">
                <h4 style="font-size: var(--text-sm); color: var(--text-secondary); margin-bottom: var(--space-3);">Tags
                </h4>
                <div id="postTags" class="tag-cloud"></div>
            </div>

            <!-- Share -->
            <div style="margin-bottom: var(--space-8);">
                <h4 style="font-size: var(--text-sm); color: var(--text-secondary); margin-bottom: var(--space-3);">
                    Share this post</h4>
                <div style="display: flex; gap: var(--space-3);">
                    <a href="#" id="shareTwitter" class="btn btn-secondary btn-sm" target="_blank"
                        rel="noopener noreferrer">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                            fill="currentColor" style="margin-right: 4px;">
                            <path
                                d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" />
                        </svg>
                        Twitter
                    </a>
                    <a href="#" id="shareLinkedIn" class="btn btn-secondary btn-sm" target="_blank"
                        rel="noopener noreferrer">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                            fill="currentColor" style="margin-right: 4px;">
                            <path
                                d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z" />
                        </svg>
                        LinkedIn
                    </a>
                </div>
            </div>

            <!-- Back to Blog -->
            <a href="blog.html" class="btn btn-primary">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor" style="margin-right: 4px;">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                </svg>
                Back to Blog
            </a>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <h3 data-profile="name">Matheus Nascimento Loureiro</h3>
                    <p data-i18n="footer.description">Master's student in Economics, passionate about research and data
                        analysis.</p>
                </div>

                <div class="footer-links">
                    <h4 data-i18n="footer.quickLinks">Quick Links</h4>
                    <ul>
                        <li><a href="index.html" data-i18n="nav.home">Home</a></li>
                        <li><a href="research.html" data-i18n="nav.research">Research</a></li>
                        <li><a href="cv.html" data-i18n="nav.cv">CV</a></li>
                        <li><a href="blog.html" data-i18n="nav.blog">Blog</a></li>
                    </ul>
                </div>

                <div class="footer-links">
                    <h4 data-i18n="footer.connect">Connect</h4>
                    <ul>
                        <li><a href="#" data-social-text="linkedin" target="_blank">LinkedIn</a></li>
                        <li><a href="#" data-social-text="twitter" target="_blank">Twitter/X</a></li>
                        <li><a href="#" data-social-text="github" target="_blank">GitHub</a></li>
                        <li><a href="#" data-social-text="scholar" target="_blank">Google Scholar</a></li>
                    </ul>
                </div>
            </div>

            <div class="footer-bottom">
                <p data-i18n="footer.copyright">Â© 2026 Matheus Nascimento Loureiro. All rights reserved.</p>
                <div class="lang-toggle">
                    <button class="lang-btn active" data-lang="en">EN</button>
                    <button class="lang-btn" data-lang="pt">PT</button>
                </div>
            </div>
        </div>
    </footer>

    <!-- Theme Customizer -->
    <div class="theme-toggle">
        <button id="themeToggleBtn" class="btn btn-primary btn-icon" title="Customize Theme">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24"
                stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01" />
            </svg>
        </button>
    </div>

    <div id="themePanel" class="theme-panel">
        <div class="theme-panel-header">
            <span class="theme-panel-title" data-i18n="theme.title">Customize Theme</span>
            <button id="themeReset" class="btn btn-ghost btn-sm">Reset</button>
        </div>
        <p style="font-size: var(--text-sm); color: var(--text-secondary); margin-bottom: var(--space-3);"
            data-i18n="theme.presets">Color Presets</p>
        <div id="themePresets" class="theme-presets"></div>
        <div class="color-picker-wrapper" style="margin-top: var(--space-4);">
            <label for="colorPicker" data-i18n="theme.custom">Custom Color</label>
            <input type="color" id="colorPicker" class="color-picker" value="#4f7cff">
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/main.js"></script>
    <script src="js/i18n.js"></script>
    <script src="js/theme.js"></script>
    <script src="js/config.js"></script>
    <script>
        // Blog Post Page Script
        class BlogPostViewer {
            constructor() {
                this.post = null;
                this.categories = {};
            }

            async init() {
                const urlParams = new URLSearchParams(window.location.search);
                const postId = urlParams.get('id');

                if (!postId) {
                    this.showError();
                    return;
                }

                try {
                    const response = await fetch('data/blog-posts.json');
                    const data = await response.json();

                    this.categories = data.categories;
                    this.post = data.posts.find(p => p.id === postId);

                    if (!this.post) {
                        this.showError();
                        return;
                    }

                    this.render();

                    // Re-render when language changes
                    if (window.i18n) {
                        window.i18n.subscribe(() => this.render());
                    }
                } catch (error) {
                    console.error('Failed to load blog post:', error);
                    this.showError();
                }
            }

            getCurrentLang() {
                return window.i18n?.getLanguage() || 'en';
            }

            render() {
                const lang = this.getCurrentLang();
                const post = this.post;

                // Update page title
                document.title = `${post.title[lang]} | Matheus Nascimento Loureiro`;

                // Update post title
                document.getElementById('postTitle').textContent = post.title[lang];

                // Update meta info
                const date = window.utils?.formatDate(post.date, lang) || post.date;
                const readingTimeText = lang === 'pt' ? 'min de leitura' : 'min read';
                const categoryName = this.categories[lang]?.[post.category] || post.category;

                document.getElementById('postDate').textContent = date;
                document.getElementById('postReadingTime').textContent = `${post.readingTime} ${readingTimeText}`;
                document.getElementById('postCategory').innerHTML = `<span class="tag">${categoryName}</span>`;

                // Update tags
                document.getElementById('postTags').innerHTML = post.tags.map(tag =>
                    `<span class="tag">${tag}</span>`
                ).join('');

                // Load post content
                this.loadContent(post.content[lang] || post.content.en);

                // Update share links
                const pageUrl = encodeURIComponent(window.location.href);
                const pageTitle = encodeURIComponent(post.title[lang]);

                document.getElementById('shareTwitter').href =
                    `https://twitter.com/intent/tweet?url=${pageUrl}&text=${pageTitle}`;
                document.getElementById('shareLinkedIn').href =
                    `https://www.linkedin.com/sharing/share-offsite/?url=${pageUrl}`;
            }

            async loadContent(contentPath) {
                try {
                    const response = await fetch(contentPath);
                    if (response.ok) {
                        const html = await response.text();
                        document.getElementById('postContent').innerHTML = html;
                    } else {
                        // If file doesn't exist, show placeholder content
                        const lang = this.getCurrentLang();
                        document.getElementById('postContent').innerHTML = `
              <p>${this.post.excerpt[lang]}</p>
              <p style="color: var(--text-tertiary); font-style: italic; margin-top: var(--space-8);">
                ${lang === 'pt' ? 'ConteÃºdo completo em breve...' : 'Full content coming soon...'}
              </p>
            `;
                    }
                } catch (error) {
                    console.error('Failed to load post content:', error);
                    document.getElementById('postContent').innerHTML = `<p>${this.post.excerpt[this.getCurrentLang()]}</p>`;
                }
            }

            showError() {
                const lang = this.getCurrentLang();
                document.getElementById('postTitle').textContent = lang === 'pt' ? 'Post nÃ£o encontrado' : 'Post not found';
                document.getElementById('postContent').innerHTML = `
          <div class="empty-state">
            <p>${lang === 'pt' ? 'O post que vocÃª procura nÃ£o existe.' : 'The post you are looking for does not exist.'}</p>
            <a href="blog.html" class="btn btn-primary" style="margin-top: var(--space-4);">
              ${lang === 'pt' ? 'Voltar ao Blog' : 'Back to Blog'}
            </a>
          </div>
        `;
            }
        }

        // Initialize on DOM ready
        document.addEventListener('DOMContentLoaded', () => {
            const viewer = new BlogPostViewer();
            viewer.init();
        });
    </script>
</body>

</html>